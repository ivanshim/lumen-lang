# ============================================================
# Lumen Standard Library Prelude
# This file is loaded automatically by the kernel before user code.
# It provides the complete standard library environment.
# ============================================================

# ============================================================
# lib_lumen/str.lm - Value Introspection & Representation
# ============================================================

# Return true if x has INTEGER kind
fn is_int(x)
    return kind(x) == INTEGER

# Return true if x has RATIONAL kind
fn is_rational(x)
    return kind(x) == RATIONAL

# Return true if x has REAL kind
fn is_real(x)
    return kind(x) == REAL

# Return true if x has BOOLEAN kind
fn is_bool(x)
    return kind(x) == BOOLEAN

# Return true if x has STRING kind
fn is_string(x)
    return kind(x) == STRING

# Return true if x has ARRAY kind
fn is_array(x)
    return kind(x) == ARRAY

# Return true if x has NULL kind
fn is_null(x)
    return kind(x) == NULL


# Convert a KIND meta-value to its canonical uppercase string
fn kind_to_string(k)
    if is_int(k)
        return "INTEGER"
    if is_rational(k)
        return "RATIONAL"
    if is_real(k)
        return "REAL"
    if is_bool(k)
        return "BOOLEAN"
    if is_string(k)
        return "STRING"
    if is_array(k)
        return "ARRAY"
    if is_null(k)
        return "NULL"
    error("kind_to_string: expected KIND meta-value")


# Convert any supported value to its canonical string form
fn str(x)
    if is_int(x)
        return int_to_string(x)
    if is_rational(x)
        return rational_to_string(x)
    if is_real(x)
        return real_to_string(x)
    if is_bool(x)
        return bool_to_string(x)
    if is_string(x)
        return x
    if is_array(x)
        return array_to_string(x)
    if is_null(x)
        return null_to_string(x)
    error("str: unsupported value")


# ============================================================
# lib_lumen/numeric.lm - Numeric Operations
# ============================================================

# Convert to real using default precision
fn real_default(x)
    return real(x, REAL_DEFAULT_PRECISION)


# ============================================================
# lib_lumen/output.lm - Output Effects
# ============================================================

# Write value to stdout without newline
fn write(x)
    emit(str(x))


# Write value to stdout followed by newline
fn print(x)
    write(x)
    emit("\n")


# ============================================================
# lib_lumen/string.lm - String Utilities
# ============================================================

# Return a substring from start (inclusive) to end (exclusive)
fn substring(s, start, end)
    i = start
    out = ""
    while i < end
        out = out . char_at(s, i)
        i = i + 1
    out

# Return substring from start index to end of string.
fn slice(s, start)
    substring(s, start, len(s))

# Return true if string begins with prefix.
fn starts_with(s, prefix)
    len(prefix) <= len(s) and substring(s, 0, len(prefix)) == prefix

# Return true if string ends with suffix.
fn ends_with(s, suffix)
    len(suffix) <= len(s) and substring(s, len(s) - len(suffix), len(s)) == suffix

# Return string repeated count times.
fn repeat(s, count)
    out = ""
    i = 0
    while i < count
        out = out . s
        i = i + 1
    out

# Join array of strings using a separator.
fn join(arr, sep)
    out = ""
    n = len(arr)
    i = 0
    while i < n
        if i > 0
            out = out . sep
        out = out . arr[i]
        i = i + 1
    out

# Return first index of needle in string, or -1 if not found.
fn index_of(s, needle)
    n = len(needle)
    i = 0
    while i + n <= len(s)
        if substring(s, i, i + n) == needle
            return i
        i = i + 1
    -1

# Return true if needle occurs anywhere in string.
fn contains(s, needle)
    index_of(s, needle) >= 0


# ============================================================
# lib_lumen/factorial.lm - Factorial Function
# ============================================================

# Factorial function
# fn factorial(n) - returns n! as an integer
fn factorial(n)
    if n <= 1
        1
    else
        n * factorial(n - 1)


# ============================================================
# lib_lumen/round.lm - Rounding Utility
# ============================================================

# Rounding utility function
# fn round(x, decimals) - rounds x to the specified number of decimal places
# Uses round-half-away-from-zero semantics

fn round(x, decimals)
    scale = 1
    i = 0
    while i < decimals
        scale = scale * 10
        i = i + 1

    y = x * scale

    if y >= 0
        r = (y * 2 + 1) // 2
    else
        r = (y * 2 - 1) // 2

    r / scale


# ============================================================
# lib_lumen/e_integer.lm - Euler's Number Calculation
# ============================================================

# Euler's number (e) calculation
# fn e_integer(sigfigs) - returns e rounded to sigfigs significant digits
# Uses scaled integer Taylor series with guard digits
# No formatting, no output side effects

fn e_integer(sigfigs)
    # number of guard digits for safe rounding
    guard = 3
    work = sigfigs + guard

    # e has exactly 1 digit before decimal
    decimals = sigfigs - 1

    # build scale = 10^work
    scale = 1
    i = 0
    while i < work
        scale = scale * 10
        i = i + 1

    # Taylor series: e = sum(1 / n!)
    sum = scale
    fact = 1
    n = 1

    # conservative upper bound
    max_terms = work + 50

    while n < max_terms
        term = scale / fact

        # once term collapses below 1, remaining contribution is negligible
        if term == 0
            break

        sum = sum + term
        n = n + 1
        fact = fact * n

    # sum now represents e * 10^work
    result = sum / scale

    # round and convert to real with requested significant digits
    rounded = round(result, decimals)
    real(rounded, sigfigs)


# ============================================================
# lib_lumen/pi_machin.lm - Pi Calculation (Machin's Formula)
# ============================================================

# Pi calculation using Machin's formula
# fn pi_machin(sigfigs) - returns pi rounded to sigfigs significant digits
# Uses pure integer arithmetic with guard digits
# No formatting, no output side effects

fn pi_machin(sigfigs)
    # guard digits for safe rounding (Machin needs them even more than e)
    guard = 3
    work = sigfigs + guard

    # pi has exactly 1 digit before decimal
    decimals = sigfigs - 1

    # build scale = 10^work
    scale = 1
    i = 0
    while i < work
        scale = scale * 10
        i = i + 1

    # -------- arctan(1 / 5) --------
    base_small = 5
    base_small_sq = base_small * base_small

    term = scale / base_small
    remainder = scale % base_small
    arctan_small = term
    k = 1

    while 1 == 1
        numerator = term * (2 * k - 1) + remainder
        denominator = (2 * k + 1) * base_small_sq
        term = numerator / denominator
        remainder = numerator % denominator

        if term < 1
            break

        if k % 2 == 1
            arctan_small = arctan_small - term
        else
            arctan_small = arctan_small + term

        k = k + 1

    # -------- arctan(1 / 239) --------
    base_large = 239
    base_large_sq = base_large * base_large

    term = scale / base_large
    remainder = scale % base_large
    arctan_large = term
    k = 1

    while 1 == 1
        numerator = term * (2 * k - 1) + remainder
        denominator = (2 * k + 1) * base_large_sq
        term = numerator / denominator
        remainder = numerator % denominator

        if term < 1
            break

        if k % 2 == 1
            arctan_large = arctan_large - term
        else
            arctan_large = arctan_large + term

        k = k + 1

    # -------- Machin combination --------
    pi_scaled = 16 * arctan_small - 4 * arctan_large

    # convert back to real magnitude
    result = pi_scaled / scale

    # explicit, single rounding step to requested significant digits
    rounded = round(result, decimals)

    # materialise as real with declared precision
    real(rounded, sigfigs)


# ============================================================
# lib_lumen/primes.lm - Prime Number Utilities
# ============================================================

# Test whether a number is prime using trial division
fn is_prime(n)
    if n < 2
        false
    if n == 2
        true
    if n % 2 == 0
        false
    i = 3
    while i * i <= n
        if n % i == 0
            false
        i = i + 2
    true


# Return the smallest prime greater than n
fn next_prime(n)
    k = n + 1
    while true
        if is_prime(k)
            k
        k = k + 1


# Generate all primes up to and including limit
fn primes_up_to(limit)
    sieve = []
    i = 0
    while i <= limit
        push(sieve, true)
        i = i + 1

    sieve[0] = false
    sieve[1] = false

    p = 2
    while p * p <= limit
        if sieve[p]
            k = p * p
            while k <= limit
                sieve[k] = false
                k = k + p
        p = p + 1

    primes = []
    i = 2
    while i <= limit
        if sieve[i]
            push(primes, i)
        i = i + 1
    primes


# Return the prime factorization of n as an array
fn prime_factors(n)
    factors = []
    d = 2
    while d * d <= n
        while n % d == 0
            push(factors, d)
            n = n // d
        d = d + 1
    if n > 1
        push(factors, n)
    factors


# Return the unique prime factors of n
fn unique_prime_factors(n)
    f = prime_factors(n)
    u = []
    i = 0
    while i < len(f)
        if i == 0 or f[i] != f[i - 1]
            push(u, f[i])
        i = i + 1
    u


# ============================================================
# lib_lumen/number_theory.lm - Number Theory Functions
# ============================================================

# Compute the greatest common divisor using Euclid's algorithm
fn gcd(a, b)
    while b != 0
        t = b
        b = a % b
        a = t
    a


# Compute the least common multiple using gcd
fn lcm(a, b)
    (a * b) // gcd(a, b)


# Check whether two integers are coprime
fn is_coprime(a, b)
    gcd(a, b) == 1


# Compute (base^exp) % mod using fast exponentiation
fn pow_mod(base, exp, mod)
    result = 1
    base = base % mod
    while exp > 0
        if exp % 2 == 1
            result = (result * base) % mod
        exp = exp // 2
        base = (base * base) % mod
    result


# Extended Euclidean algorithm returning (g, x, y) such that ax + by = g
fn extended_gcd(a, b)
    if b == 0
        return [a, 1, 0]
    else
        r = extended_gcd(b, a % b)
        g = r[0]
        x = r[2]
        y = r[1] - (a // b) * r[2]
        return [g, x, y]


# Compute the modular multiplicative inverse of a modulo m
fn mod_inverse(a, m)
    r = extended_gcd(a, m)
    if r[0] != 1
        return null
    else
        return (r[1] % m + m) % m


# Perform modular division a / b (mod m)
fn mod_div(a, b, m)
    inv = mod_inverse(b, m)
    if inv == null
        return null
    else
        return (a * inv) % m


# ============================================================
# lib_lumen/constants_1024.lm - 1024-Digit Numeric Constants
# ============================================================

# ============================================================
# Lumen 1024-digit numeric constants
# All constants are stored as scaled integers with exactly
# 1 digit before the decimal point.
# Precision beyond 1024 significant digits is an error.
# ============================================================

# ------------------------------------------------------------
# Generic helper
# ------------------------------------------------------------

fn real_from_const(sigfigs, max_sigfigs, scaled)
    if sigfigs > max_sigfigs
        error("requested precision exceeds available constant precision")

    decimals = sigfigs - 1
    scale = 10 ** (max_sigfigs - 1)

    value = scaled / scale
    rounded = round(value, decimals)
    real(rounded, sigfigs)


# ------------------------------------------------------------
# Core constants
# ------------------------------------------------------------

fn pi_1024(sigfigs)
    real_from_const(sigfigs, 1024, 3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273724587006606315588174881520920962829254091715364367892590360011330530548820466521384146951941511609433057270365759591953092186117381932611793105118548074462379962749567351885752724891227938183011949129833673362440656643086021394946395224737190702179860943702770539217176293176752384674818467669405132000568127145263560827785771342757789609173637178721468440901224953430146549585371050792279689258923542019956112129021960864034418159813629774771309960518707211349999998372978049951059731732816096318595024459455346908302642522308253344685035261931188171010003137838752886587533208381420617177669147303598253490428755468731159562863882353787593751957781857780532171226806613001927876611195909216420198938095257201065485863278)

fn e_1024(sigfigs)
    real_from_const(sigfigs, 1024, 2718281828459045235360287471352662497757247093699959574966967627724076630353547594571382178525166427427466391932003059921817413596629043572900334295260595630738132328627943490763233829880753195251019011573834187930702154089149934884167509244761460668082264800168477411853742345442437107539077744992069551702761838606261331384583000752044933826560297606737113200709328709127443747047230696977209310141692836819025515108657463772111252389784425056953696770785449969967946864454905987931636889230098793127736178215424999229576351482208269895193668033182528869398496465105820939239829488793320362509443117301238197068416140397019837679320683282376464804295311802328782509819455815301756717361332069811250996181881593041690351598888519345807273866738589422879228499892086805825749279610484198444363463244968487560233624827041978623209002160990235304369941849146314093431738143640546253152096183690888707016768396424378140592714563549061303107208510383750510115747704171898610687396965521267154688957035035402123407849819334321068)


# ------------------------------------------------------------
# Roots and powers
# ------------------------------------------------------------

fn sqrt2_1024(sigfigs)
    real_from_const(sigfigs, 1024, 1414213562373095048801688724209698078569671875376948073176679737990732478462107038850387534327641572735013846230912297024924836055850737212644121497099935831413222665927505592755799950501152782060571470109559971605970274534596862014728517418640889198609552329230484308714321450839762603627995251407989687253396546331808829640620615258352395054745750287759961729835575220337531857011354374603408498847160386899970699004815030544027790316454247823068492936918621580578463111596668713013015618568987237235288509264861249497715421833420428568606014682472077143585487415565706967765372022648544701585880162075847492265722600208558446652145839889394437092659180031138824646815708263010059485870400318648034219489727829064104507263688131373985525611732204024509122770022694112757362728049573810896750401836986836845072579936472906076299694138047565482372899718032680247442062926912485905218100445984215059112024944134172853147810580360337107730918286931471017111168391658172688941975871658215212822951848847208969463386289156288276)

fn sqrt_pi_1024(sigfigs)
    real_from_const(sigfigs, 1024, 1772453850905516027298167483341145182797549456122387128213807789852911284591032181374950656738544665416226823624282570666236152865724422602525093709602787068462037698653105122849925173028950826228932095379267962800174639015351479720516700190185234018585446974494912640313921775525906216405419332500906398407613733477475153433667989789365851836408795451165161738760059067393431791332809854846248184902054654852195613251561647467515042738761056107996127107210060372044483672365296613708094323498831668424213845709609120420427785778068694766570005218305685125413396636944654181510716693883321942929357062268865224420542149948049920756486398874838505930640218214029285811233064978945203621149078962287389403245978198513134871266512506293260044656382109675026812496930595420461560761952217391525070207792758099054332900662223067614469661248188743069978835205061464443854185307973574257179185635959749959952263849242203889103966406447293972841345043002140564233433039261756134176336320017037654163476320669276541812835762490326904)

fn sqrt_2pi_1024(sigfigs)
    real_from_const(sigfigs, 1024, 2506628274631000502415765284811045253006986740609938316629923576342293654607841974946595838378057266116009972665203879644866323618126736180957855655966147931913435480458123731137327804313019938802647150234465504898425802329413862779668683613033675823844181156078490095600041375150275291651461225843861864920699060926664091188015739697252377702538748247848633488642597506589513095738763427251926880402028571859249736308099784525385500999641019298258645588137169634674801528974523304735834747756198960891889314977186485484804693652160029795239196018238091657904112979752977128848801667547005586301968241421642338363617519213056151359841709828370363423435580976874244875261780109223242848839195367251539745828256303365118628087902035519300881456040264877714156500483767232750941368064247174816351844713073831681919536988437233401656055005550630298233858652495611258966343623110394388674844019702154248446926734325728761164522433801156627031635317630180312268256176688917760955023889604244679905217005817708689941829588462872949)

fn e2_1024(sigfigs)
    real_from_const(sigfigs, 1024, 7389056098930650227230427460575007813180315570551847324087127822522573796079057763384312485079121794773753161265478866123884603692781273374478392213398077774900122895607410753702391330947550682086581820269647868208404220982255234875742462541414679928129331888070763301019337899740729986960095303307515320818823684694793029913558771445683123923272764602588339996461212849285209678905138824663987122813726861064735626379295182227842948434586135287693866985752001549960148075071971293369418851997228882636255971941095866191479871504328397693264610235116312389990010513783406764498663892685615821864215577248492011193531621171951731747269796829345199850541848631971356859470229125573983561105149793681450277644807642985104182117055944191787683471285276497809713462504140235242158740938668254271570392645296404550628778001311092650138483345302646363141560471888117657942786348599076704527119372958723995987073310814961253109770593530099050329681075421090877626308572485003827872276144866745056498738587715751056243438943967139443)


# ------------------------------------------------------------
# Reciprocals
# ------------------------------------------------------------

fn inv_pi_1024(sigfigs)
    real_from_const(sigfigs, 1024, 318309886183790671537767526745028724068919291480912897495334688117793595268453070180227605532506171912145685453515916073785823692229157305755934821463399678458479933874818155146155492793850615377434785792434795323386724780483447258023664760228445399511431880923780173805347912240978821873875688171057446199892886800497344695478919221796646193566149812333972925609398897304375763149573133928482077991748278697219967736198399924885751170342357716862235037534321093095073976019478920729518667536118604988993270610654313551006440649555632794332045893496239196331681212033606071996267823974997665573308870559510140032481355128777699142621760244398752295362755529475781266136092915956963522624854628139921550049000595519714178113805593570263050420032635492041849623212481122912406292968178496918382870423150815112401743053213604434318281514949165445195492570799750310658781627963544818716509594146657438081399951815315415698694078717965617434685128073379023325091411886655262537300052245435942306422519900877335890075251121672634)

fn inv_e_1024(sigfigs)
    real_from_const(sigfigs, 1024, 367879441171442321595523770161460867445811131031767834507836801697461495744899803357147274345919643746627325276843995208246975792790129008626653589494098783092194367377338115048638991125145616344987719978684475957939747302549892495453239366207964810514647520612294223089164926566600365074577283705532853738388106804787611956829893454497350739318599216617433003569937208207102277518021584994233781690715667671762336608230376122915623757209470007040509733425677576252528030376886165157093653799542740637071787844541946749093130698056016370211138977422821401738023283246528729138900466098665951244409769985145916428780372020251022457873211105953777680743711220624000516796528097544478028648600683856420043368466248434938691826206251899482197099242342520751049209344528512448602245138098641742106121953636831007820922480465307980656285415478606179315570598717021599969918822826539792780374712743863515629671451194398670268245267971681438977214135957969054252910354885973107823326941411857923569594937698601265758803127998467948)

fn inv_sqrt_2pi_1024(sigfigs)
    real_from_const(sigfigs, 1024, 398942280401432677939946059934381868475858631164934657665925829670657925899301838501252333907306936430302558862635182685510991954555837242996212730625507706345270582720499317564516345807530597253642732083669593478271702999186419063456032808933388606704653652796716869341954771177212065325375369133478750560424055704884258180482317903772804997176338575363992839140318693283694771754858239775054447927761155070412703969672485047337603814813923901300564676023356305570085700726641100015721563953577823123410952609069269089244567245554672105743928915256735109303850680783183519806551964687438189980165959781887721458861617459900501712960940366313293846201865045309966814316491432421060417455294539282219688799792718106125413701644536367652874648406122597740302757632013709422194511725465470758442141422502838061868594135257554774549801530578349147613022007422892027821093302633276582742943413612643384980057963587894437275171155013545859889393745518894340738320491519829619307071761750803329086547364282269194590675379988171293)


# ------------------------------------------------------------
# Logarithms
# ------------------------------------------------------------

fn ln2_1024(sigfigs)
    real_from_const(sigfigs, 1024, 693147180559945309417232121458176568075500134360255254120680009493393621969694715605863326996418687542001481020570685733685520235758130557032670751635075961930727570828371435190307038623891673471123350115364497955239120475172681574932065155524734139525882950453007095326366642654104239157814952043740430385500801944170641671518644712839968171784546957026271631064546150257207402481637773389638550695260668341137273873722928956493547025762652098859693201965058554764703306793654432547632744951250406069438147104689946506220167720424524529612687946546193165174681392672504103802546259656869144192871608293803172714367782654877566485085674077648451464439940461422603193096735402574446070308096085047486638523138181676751438667476647890881437141985494231519973548803751658612753529166100071053558249879414729509293113897155998205654392871700072180857610252368892132449713893203784393530887748259701715591070882368362758984258918535302436342143670611892367891923723146723217205340164925687274778234453534764811494186423867767744)

fn ln10_1024(sigfigs)
    real_from_const(sigfigs, 1024, 2302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286248633409525465082806756666287369098781689482907208325554680843799894826233198528393505308965377732628846163366222287698219886746543667474404243274365155048934314939391479619404400222105101714174800368808401264708068556774321622835522011480466371565912137345074785694768346361679210180644507064800027750268491674655058685693567342067058113642922455440575892572420824131469568901675894025677631135691929203337658714166023010570308963457207544037084746994016826928280848118428931484852494864487192780967627127577539702766860595249671667418348570442250719796500471495105049221477656763693866297697952211071826454973477266242570942932258279850258550978526538320760672631716430950599508780752371033310119785754733154142180842754386359177811705430982748238504564801909561029929182431823752535770975053956518769751037497088869218020518933950723853920514463419726528728696511086257149219884997874887377134568620916705)

fn log2e_1024(sigfigs)
    real_from_const(sigfigs, 1024, 1442695040888963407359924681001892137426645954152985934135449406931109219181185079885526622893506344496997518309652544255593101687168359642720662158223479336274537369884718493630701387663532015533894318916664837643128615424047478422289497904795091530351338588054968865893096996368036110511075630844145427215828344941891933908577715790044171280246848341374522695182369011239094034459968539906113421722886278029158010630061976762445652605995073753240625655815475938178305239725510724813077156267545807578171330193573006168761937372982675897415623817983567103443489750680705518088486561386832917732182934913968431059345402202518636934526269215095597191002219679224321433424494179071455118499385921221675365311300774632767206461233741108211913794433398480579310912877609670200375758998158851806126788099760956252507841024847056900768768058461327865474782027808659462060910749015324819969730579015272324787298740981254100033448687573822364716494544753706716759589942809981826783490131666633534803678986944688709116660497353729258)

fn log10e_1024(sigfigs)
    real_from_const(sigfigs, 1024, 434294481903251827651128918916605082294397005803666566114453783165864649208870774729224949338431748318706106744766303733641679287158963906569221064662812265852127086568670329593370869658826688331163607738490514284434866676864658608513556148212348765343543435731725383562228139560304864665236609553937735617632343191671099141159789496299351245793492635765546907767108241915047991098967490010327753765357027008732855095173144067469795189951359408804042393151886810840254465408979702986328682876262414401345704354613292060071260510402836712595484628770786199899232674843990234817153593455107947549255248257782067922014093146816446738103056047563572040888338320948899652271749454133179141764024740750578876786097109925754773004604865604951561005798574134027267520143924791797085904793128521249334119732987722646388535022608388162631646388355368550176846029528639939163351064755570405051318234298887488212064359502381890264331771153738220336263441647839714600185839609300631733398613403513574178714497145307649296833139239981060)


# ------------------------------------------------------------
# Mathematical constants (secondary but useful)
# ------------------------------------------------------------

fn two_over_sqrt_pi_1024(sigfigs)
    real_from_const(sigfigs, 1024, 1128379167095512573896158903121545171688101258657997713688171443421284936882986828973487320404214726886056695812723414703379862989652325732730979040035537986585675274119196879520704928700435945142423160491545640441109017054346433244416926616222799025526908972046136475381837490317493231702602132796715543998754668320715597752333488152466078760432701203287243392470100916625063893758913312576651631043248869097731406379754861763556365896778950217001836917068443263565178670503666024049245124447449894540067794862528599318852700856608980726631607875391971216318675658441114765847576463158466211523929554936506180343123616119044459235264930718080170688589725005789478432836238548619548451139757591558099749638273874479384145721266849535939897219177526087267452911757503086161868839476966576982758350723791327018482697850617660789930811682114508296549646950349484018793976683355429771178335667478997183163300275371977372408792825814573857927614754653462236857357604231049732437943817793615062990240294910543518259630544244126468)


# ============================================================
# lib_lumen/constants.lm - Mathematical Constants Wrappers
# ============================================================

# ============================================================
# Lumen mathematical constants - unified wrapper module
# All functions delegate to their _1024 counterparts
# ============================================================

# Core constants
fn pi(sigfigs)
    pi_1024(sigfigs)

fn e(sigfigs)
    e_1024(sigfigs)


# Roots and powers
fn sqrt2(sigfigs)
    sqrt2_1024(sigfigs)

fn sqrt_pi(sigfigs)
    sqrt_pi_1024(sigfigs)

fn sqrt_2pi(sigfigs)
    sqrt_2pi_1024(sigfigs)

fn e2(sigfigs)
    e2_1024(sigfigs)


# Reciprocals
fn inv_pi(sigfigs)
    inv_pi_1024(sigfigs)

fn inv_e(sigfigs)
    inv_e_1024(sigfigs)

fn inv_sqrt_2pi(sigfigs)
    inv_sqrt_2pi_1024(sigfigs)


# Logarithms
fn ln2(sigfigs)
    ln2_1024(sigfigs)

fn ln10(sigfigs)
    ln10_1024(sigfigs)

fn log2e(sigfigs)
    log2e_1024(sigfigs)

fn log10e(sigfigs)
    log10e_1024(sigfigs)


# Mathematical constants (secondary but useful)
fn two_over_sqrt_pi(sigfigs)
    two_over_sqrt_pi_1024(sigfigs)


# ============================================================
# lib_lumen/constants_default.lm - Default Precision Constants
# ============================================================

# ============================================================
# Lumen mathematical constants with default precision
# using REAL_DEFAULT_PRECISION
# All functions delegate to their full-precision counterparts
# ============================================================

# Core constants
fn pi_default()
    pi(REAL_DEFAULT_PRECISION)

fn e_default()
    e(REAL_DEFAULT_PRECISION)


# Roots and powers
fn sqrt2_default()
    sqrt2(REAL_DEFAULT_PRECISION)

fn sqrt_pi_default()
    sqrt_pi(REAL_DEFAULT_PRECISION)

fn sqrt_2pi_default()
    sqrt_2pi(REAL_DEFAULT_PRECISION)

fn e2_default()
    e2(REAL_DEFAULT_PRECISION)


# Reciprocals
fn inv_pi_default()
    inv_pi(REAL_DEFAULT_PRECISION)

fn inv_e_default()
    inv_e(REAL_DEFAULT_PRECISION)

fn inv_sqrt_2pi_default()
    inv_sqrt_2pi(REAL_DEFAULT_PRECISION)


# Logarithms
fn ln2_default()
    ln2(REAL_DEFAULT_PRECISION)

fn ln10_default()
    ln10(REAL_DEFAULT_PRECISION)

fn log2e_default()
    log2e(REAL_DEFAULT_PRECISION)

fn log10e_default()
    log10e(REAL_DEFAULT_PRECISION)


# Mathematical constants (secondary but useful)
fn two_over_sqrt_pi_default()
    two_over_sqrt_pi(REAL_DEFAULT_PRECISION)
